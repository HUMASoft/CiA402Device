<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CiA402Device: CiA301CommPort Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CiA402Device
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classCiA301CommPort-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CiA301CommPort Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for CiA301CommPort:</div>
<div class="dyncontent">
<div class="center"><img src="classCiA301CommPort__inherit__graph.png" border="0" usemap="#CiA301CommPort_inherit__map" alt="Inheritance graph"/></div>
<map name="CiA301CommPort_inherit__map" id="CiA301CommPort_inherit__map">
<area shape="rect" id="node2" href="classCiA402Device.html" title="CiA402Device" alt="" coords="16,80,123,107"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aae705cb5c6a405ef74a10e5220d0b08f"><td class="memItemLeft" align="right" valign="top"><a id="aae705cb5c6a405ef74a10e5220d0b08f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>CiA301CommPort</b> (int newPortFileDescriptor, uint8_t new_id)</td></tr>
<tr class="separator:aae705cb5c6a405ef74a10e5220d0b08f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e05c4b292cfee36ff9eeddb2c8eb4c0"><td class="memItemLeft" align="right" valign="top"><a id="a1e05c4b292cfee36ff9eeddb2c8eb4c0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>CiA301CommPort</b> (<a class="el" href="classPortBase.html">PortBase</a> *new_port, uint8_t new_id)</td></tr>
<tr class="separator:a1e05c4b292cfee36ff9eeddb2c8eb4c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fd0920052684589bc37bb898dcdd758"><td class="memItemLeft" align="right" valign="top"><a id="a0fd0920052684589bc37bb898dcdd758"></a>
long&#160;</td><td class="memItemRight" valign="bottom"><b>ReadSDO</b> (vector&lt; uint8_t &gt; address, int subindex)</td></tr>
<tr class="separator:a0fd0920052684589bc37bb898dcdd758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f74ce5899b30731322dabd352ccdc55"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCiA301CommPort.html#a3f74ce5899b30731322dabd352ccdc55">ReadSDO</a> (const vector&lt; uint8_t &gt; &amp;address)</td></tr>
<tr class="memdesc:a3f74ce5899b30731322dabd352ccdc55"><td class="mdescLeft">&#160;</td><td class="mdescRight">CiA301CommPort::ReadSDO Waits until expected.  <a href="#a3f74ce5899b30731322dabd352ccdc55">More...</a><br /></td></tr>
<tr class="separator:a3f74ce5899b30731322dabd352ccdc55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02df85ed5140d0d7a57fe0d2f6e47ea1"><td class="memItemLeft" align="right" valign="top"><a id="a02df85ed5140d0d7a57fe0d2f6e47ea1"></a>
long&#160;</td><td class="memItemRight" valign="bottom"><b>ReadNMT</b> (const vector&lt; uint8_t &gt; &amp;nmtCode)</td></tr>
<tr class="separator:a02df85ed5140d0d7a57fe0d2f6e47ea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09feb3f78831c9fbb683a85cc3bc4562"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCiA301CommPort.html#a09feb3f78831c9fbb683a85cc3bc4562">WriteNMT</a> (const vector&lt; uint8_t &gt; &amp;nmtCommand)</td></tr>
<tr class="memdesc:a09feb3f78831c9fbb683a85cc3bc4562"><td class="mdescLeft">&#160;</td><td class="mdescRight">WriteNMT This function sends NMT message from node to CanBus.  <a href="#a09feb3f78831c9fbb683a85cc3bc4562">More...</a><br /></td></tr>
<tr class="separator:a09feb3f78831c9fbb683a85cc3bc4562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56d2c604b11363e6b287f59b68a546bd"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCiA301CommPort.html#a56d2c604b11363e6b287f59b68a546bd">WritePDO</a> (const vector&lt; uint8_t &gt; &amp;command)</td></tr>
<tr class="memdesc:a56d2c604b11363e6b287f59b68a546bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">WritePDO This function sends PDO message to a node (the mode id is configured on constructor).  <a href="#a56d2c604b11363e6b287f59b68a546bd">More...</a><br /></td></tr>
<tr class="separator:a56d2c604b11363e6b287f59b68a546bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a067cddaf01932fa6fa27255c61b08190"><td class="memItemLeft" align="right" valign="top"><a id="a067cddaf01932fa6fa27255c61b08190"></a>
long&#160;</td><td class="memItemRight" valign="bottom"><b>FlushBuffer</b> ()</td></tr>
<tr class="separator:a067cddaf01932fa6fa27255c61b08190"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab29e221039a2d21d1446edb09b91864e"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCiA301CommPort.html#ab29e221039a2d21d1446edb09b91864e">FlushBuffer</a> (int msgs)</td></tr>
<tr class="memdesc:ab29e221039a2d21d1446edb09b91864e"><td class="mdescLeft">&#160;</td><td class="mdescRight">FlushBuffer Removes the msgs number of can frames from buffer.  <a href="#ab29e221039a2d21d1446edb09b91864e">More...</a><br /></td></tr>
<tr class="separator:ab29e221039a2d21d1446edb09b91864e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d97c27423b2323f8475f6e5c2f91575"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCiA301CommPort.html#a4d97c27423b2323f8475f6e5c2f91575">WriteSDO</a> (const vector&lt; uint8_t &gt; &amp;address, const vector&lt; uint8_t &gt; &amp;value)</td></tr>
<tr class="memdesc:a4d97c27423b2323f8475f6e5c2f91575"><td class="mdescLeft">&#160;</td><td class="mdescRight">WriteSDO Writes 4 byte value to specific address on device. This function sends SDO message requesting write on the object dictionary address. Also block and wait for the SDO msg for write ack, and returns negative if error. As it reads the ack SDO message, the buffer should be same size after this function returns.  <a href="#a4d97c27423b2323f8475f6e5c2f91575">More...</a><br /></td></tr>
<tr class="separator:a4d97c27423b2323f8475f6e5c2f91575"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1faf4f37530e0dd0ae4600cfb0b1d742"><td class="memItemLeft" align="right" valign="top"><a id="a1faf4f37530e0dd0ae4600cfb0b1d742"></a>
long&#160;</td><td class="memItemRight" valign="bottom"><b>WritePDO4</b> (const vector&lt; uint8_t &gt; &amp;command)</td></tr>
<tr class="separator:a1faf4f37530e0dd0ae4600cfb0b1d742"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46534ff9e7e2a05a0b4913e4331710e5"><td class="memItemLeft" align="right" valign="top"><a id="a46534ff9e7e2a05a0b4913e4331710e5"></a>
long&#160;</td><td class="memItemRight" valign="bottom"><b>ReadErrorNMT</b> ()</td></tr>
<tr class="separator:a46534ff9e7e2a05a0b4913e4331710e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a827f3e594b9f1e57a7b7ccb8a278404a"><td class="memItemLeft" align="right" valign="top"><a id="a827f3e594b9f1e57a7b7ccb8a278404a"></a>
long&#160;</td><td class="memItemRight" valign="bottom"><b>ReadPDO</b> (long number)</td></tr>
<tr class="separator:a827f3e594b9f1e57a7b7ccb8a278404a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab29e221039a2d21d1446edb09b91864e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab29e221039a2d21d1446edb09b91864e">&#9670;&nbsp;</a></span>FlushBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long CiA301CommPort::FlushBuffer </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msgs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FlushBuffer Removes the msgs number of can frames from buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msgs</td><td>Number of messages to remove. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if no error. </dd></dl>

</div>
</div>
<a id="a3f74ce5899b30731322dabd352ccdc55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f74ce5899b30731322dabd352ccdc55">&#9670;&nbsp;</a></span>ReadSDO()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long CiA301CommPort::ReadSDO </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; uint8_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CiA301CommPort::ReadSDO Waits until expected. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a id="a09feb3f78831c9fbb683a85cc3bc4562"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09feb3f78831c9fbb683a85cc3bc4562">&#9670;&nbsp;</a></span>WriteNMT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long CiA301CommPort::WriteNMT </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; uint8_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>nmtCommand</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>WriteNMT This function sends NMT message from node to CanBus. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nmtCommand</td><td>The message that is sent. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if no error. </dd></dl>

</div>
</div>
<a id="a56d2c604b11363e6b287f59b68a546bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56d2c604b11363e6b287f59b68a546bd">&#9670;&nbsp;</a></span>WritePDO()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long CiA301CommPort::WritePDO </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; uint8_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>WritePDO This function sends PDO message to a node (the mode id is configured on constructor). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">command</td><td>The mesage that is sent. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if no error. </dd></dl>

</div>
</div>
<a id="a4d97c27423b2323f8475f6e5c2f91575"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d97c27423b2323f8475f6e5c2f91575">&#9670;&nbsp;</a></span>WriteSDO()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long CiA301CommPort::WriteSDO </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; uint8_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; uint8_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>WriteSDO Writes 4 byte value to specific address on device. This function sends SDO message requesting write on the object dictionary address. Also block and wait for the SDO msg for write ack, and returns negative if error. As it reads the ack SDO message, the buffer should be same size after this function returns. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The address that needs SDO writing. </td></tr>
    <tr><td class="paramname">value</td><td>The value that will be writed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if no error. Negative if error (see cerr). </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="CiA301CommPort_8h_source.html">CiA301CommPort.h</a></li>
<li>CiA301CommPort.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
